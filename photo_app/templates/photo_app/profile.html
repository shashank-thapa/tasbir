{% extends 'photo_app/base.html'%}
{% load static %}
{% block title %}
    <title>{{user.display_name}}(@{{user.username}})</title>
{%endblock%}

{%block main_content%} 
    <main class="profile-container">
        <section class="profile">
            <header class="profile__header">
                <div class="profile__avatar-container">
                    <img 
                        src="{{user.profile_pic.url}}"
                        class="profile__avatar"
                    />
                </div>
                <div class="profile__info">
                    <div class="profile__name">
                        <h1 class="profile__title">{{user.username}}</h1>
                        <a href="{% url 'edit_profile'%}" class="profile__button u-fat-text">Edit profile</a>
                        <i class="fa fa-cog fa-2x" id="cog"></i>
                    </div>
                    <ul class="profile__numbers">
                        <li class="profile__posts">
                            <span class="profile__number u-fat-text">{{user.posts.all|length}}</span> posts
                        </li>
                        <li class="profile__followers">
                            <span class="profile__number u-fat-text">323</span> followers
                        </li>
                        <li class="profile__following">
                            <span class="profile__number u-fat-text">234</span> following
                        </li>
                    </ul>
                    <div class="profile__bio">
                        <span class="profile__full-name u-fat-text">{{user.display_name}}</span><br><br>
                        <p class="profile__full-bio">{{user.bio}}</p><br>
                        <a href="http://www.shashankthapa.com.np" class="profile__link u-fat-text">www.shashankthapa.com.np</a>
                    </div>
                </div>
            </header>
            <div class="profile__pictures">
                {% for photo in posts %}
                <a href="image-detail.html" class="profile-picture">
                    <img
                        src="{{photo.image.url}}"
                        class="profile-picture__picture"
                    />
                    <div class="profile-picture__overlay">
                        <span class="profile-picture__number">
                            <i class="fa fa-heart"></i> {{photo.liked_by.all|length}}
                        </span>
                        <span class="profile-picture__number">
                            <i class="fa fa-comment"></i> {{photo.comments.all|length}}
                        </span>
                    </div>
                </a>
                {% endfor %}
            </div>
        </section>
    </main>
{% endblock %}